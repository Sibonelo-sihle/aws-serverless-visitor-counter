<!DOCTYPE html>
<html>
<head>
    <title>My Visitor Counter</title>
    <style>
        body { text-align: center; font-family: Arial; padding-top: 50px; background-color: #f4f4f4; }
        .counter-box { background: white; padding: 20px; display: inline-block; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0,0,0,0.1); }
        h1 { color: #232f3e; } /* AWS Blue/Black */
        #count { font-size: 48px; color: #ff9900; font-weight: bold; } /* AWS Orange */
    </style>
</head>
<body>
    <div class="counter-box">
        <h1>Welcome to My Website!</h1>
        <p>This page has been viewed</p>
        <div id="count">Loading...</div>
        <p>times</p>
    </div>

    <script>
        //  API Gateway URL
        const apiURL = 'https://80s0d3mq51.execute-api.us-east-1.amazonaws.com/prod';

        async function getCount() {
            try {
                const response = await fetch(apiURL, { method: 'POST' });
                const data = await response.json();
                document.getElementById('count').innerText = data.total_visits;
            } catch (error) {
                console.error('Error fetching count:', error);
                document.getElementById('count').innerText = "Error";
            }
        }
        getCount();
    </script>
</body>
</html>